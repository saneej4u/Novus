<div class="container mt-5">
    <div class="row my-1" *ngIf="basketItems?.length > 0; else basketEmpty">
        <div class="col-md-8 py-1">
            <div class="my-3">
                <ng-container>
                    <div id="basket-id">
                        <div class="border-bottom">
                            <h6 *ngIf="basketItems?.length == 1" class="text-muted">{{basketItems?.length}} Course in Cart</h6>
                            <h6 *ngIf="basketItems?.length > 1" class="text-muted">{{basketItems?.length}} Courses in Cart</h6>
                        </div>
                        <div class="row" *ngFor="let item of basketItems">
                            <div class="col-md-12">
                                <div class="card p-1 border-bottom border-left border-right">
                                    <div class="card-horizontal d-flex justify-content-between align-items-center p-2">

                                            <div class="d-flex flex-column">
                                                    <div style="cursor:pointer" routerLink="/shop/{{item?.courseId}}">  <div class="img-square-wrapper">
                                                            <img class="img-fluid" src="{{item.pictureUrl}}" alt="{{item.courseTitle}}">
                                                            
                                                        </div>
                                                    
                                                    </div>
                                                    <div *ngIf="isMobile" ><button class="btn btn-link btn-sm text-secondary"
                                                        (click)='onRemoveBasketItem(item.id)' tooltip="Remove.">Remove</button></div>
                                                
                                                  </div>

                                      
                                        <div class="card-body align-items-start">
                                            <h6 style="cursor:pointer" routerLink="/shop/{{item?.courseId}}" class="my-0">{{item.courseTitle}}</h6>
                                            <small class="text-muted">{{item.instructorName}}</small>
                                            <div *ngIf="!isMobile">
                                                <span class="badge badge-pill badge-dark text-wrap mr-4">This course is
                                                    valid for {{item?.courseAvailableFor}} days
                                                    after you start.</span>
                                            </div>
                                        </div>

                                        <div class="align-items-center mr-4" *ngIf="!isMobile">
                                            <button class="btn btn-link btn-sm text-secondary"
                                                (click)='onRemoveBasketItem(item.id)' tooltip="Remove.">Remove</button>
                                        </div>

                                        <div class="align-items-end" *ngIf="!isMobile">
                                            <h5 class="text-dark">{{item.price | currency: 'GBP'}}</h5>
                                          
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div *ngIf="!isMobile" class="col-xs-12 col-md-5 mt-4">
                                <a matRipple  [matRippleCentered]="true" class="btn btn-block btn-secondary btn-lg text-uppercase text-white text-center"
                                    [routerLink]="['/shop']" routerLinkActive="router-link-active"> Continue shopping</a>

                            </div>
                            <div class="col-md-2">

                            </div>
                            <div class="col-xs-12 col-md-5 mt-4">

                                <a matRipple  [matRippleCentered]="true" class="btn btn-block btn-dark btn-lg text-uppercase text-white text-center"
                                    (click)='onCheckout()'>
                                    Checkout</a>
                            </div>

                            <div *ngIf="isMobile" class="col-xs-12 col-md-5 mt-4">
                                    <a matRipple  [matRippleCentered]="true" class="btn btn-block btn-secondary btn-lg text-uppercase text-white text-center"
                                        [routerLink]="['/shop']" routerLinkActive="router-link-active"> Continue shopping</a>
    
                                </div>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
        <div class="col-md-4">
            <div>
                <div>
                    <app-basket-summary [basket]='basket' [basketItems]='basketItems'></app-basket-summary>
                </div>
            </div>
        </div>
    </div>

    <ng-template #basketEmpty>
        <div class="row my-5">
            <div class="col-md-8 py-3">
                <h3 class="text-center">Basket is empty!</h3>
            </div>
        </div>
    </ng-template>
</div>